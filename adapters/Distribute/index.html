
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://openlawteam.github.io/tribute-contracts/adapters/Distribute/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.8">
    
    
      
        <title>Distribute - Tribute DAO Framework</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adapter-description-and-scope" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Tribute DAO Framework" class="md-header__button md-logo" aria-label="Tribute DAO Framework" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tribute DAO Framework
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Distribute
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tribute DAO Framework" class="md-nav__button md-logo" aria-label="Tribute DAO Framework" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Tribute DAO Framework
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../ThankYou/" class="md-nav__link">
        ThankYou
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Adapters
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Adapters" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Adapters
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../BatchVoting/" class="md-nav__link">
        BatchVoting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../CouponOnboarding/" class="md-nav__link">
        CouponOnboarding
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Distribute
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Distribute
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adapter-description-and-scope" class="md-nav__link">
    Adapter description and scope
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-workflow" class="md-nav__link">
    Adapter workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-configuration" class="md-nav__link">
    Adapter configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-state" class="md-nav__link">
    Adapter state
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependencies-and-interactions-internal-external" class="md-nav__link">
    Dependencies and interactions (internal / external)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-description-and-assumptions-checks" class="md-nav__link">
    Functions description and assumptions / checks
  </a>
  
    <nav class="md-nav" aria-label="Functions description and assumptions / checks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#receive-external-payable" class="md-nav__link">
    receive() external payable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-submitproposal" class="md-nav__link">
    function submitProposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_submitproposal" class="md-nav__link">
    _submitProposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processproposal" class="md-nav__link">
    processProposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distribute" class="md-nav__link">
    distribute
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    Events
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Financing/" class="md-nav__link">
        Financing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GuildKick/" class="md-nav__link">
        GuildKick
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../HowToCreate/" class="md-nav__link">
        How to create an Adapter
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Managing/" class="md-nav__link">
        Managing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../OffchainVoting/" class="md-nav__link">
        OffchainVoting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Onboarding/" class="md-nav__link">
        Onboarding
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Ragequit/" class="md-nav__link">
        Ragequit
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Template/" class="md-nav__link">
        Template
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Tribute/" class="md-nav__link">
        Tribute
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../TributeNFT/" class="md-nav__link">
        TributeNFT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Voting/" class="md-nav__link">
        Voting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Withdraw/" class="md-nav__link">
        Withdraw
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Core
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Core" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../core/DaoFactory/" class="md-nav__link">
        DaoFactory
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../core/DaoRegistry/" class="md-nav__link">
        DaoRegistry
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Extensions
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Extensions" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Extensions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/Bank/" class="md-nav__link">
        Bank
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/ERC20/" class="md-nav__link">
        ERC20
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/Executor/" class="md-nav__link">
        Executor
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/NFT/" class="md-nav__link">
        NFT
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Guards
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Guards" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Guards
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guards/AdapterGuard/" class="md-nav__link">
        AdapterGuard
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guards/MemberGuard/" class="md-nav__link">
        MemberGuard
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Helpers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Helpers" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Helpers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../helpers/FairShareHelper/" class="md-nav__link">
        FairShareHelper
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adapter-description-and-scope" class="md-nav__link">
    Adapter description and scope
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-workflow" class="md-nav__link">
    Adapter workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-configuration" class="md-nav__link">
    Adapter configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-state" class="md-nav__link">
    Adapter state
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependencies-and-interactions-internal-external" class="md-nav__link">
    Dependencies and interactions (internal / external)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-description-and-assumptions-checks" class="md-nav__link">
    Functions description and assumptions / checks
  </a>
  
    <nav class="md-nav" aria-label="Functions description and assumptions / checks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#receive-external-payable" class="md-nav__link">
    receive() external payable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-submitproposal" class="md-nav__link">
    function submitProposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_submitproposal" class="md-nav__link">
    _submitProposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processproposal" class="md-nav__link">
    processProposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distribute" class="md-nav__link">
    distribute
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    Events
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Distribute</h1>
                
                <h2 id="adapter-description-and-scope">Adapter description and scope</h2>
<p>The Distribute Adapter provides features in which the DAO members can receive funds from the DAO for any given reason. A good example of that is when the members collectively agree to payout dividends to one or all member of the DAO, when that happens they can submit a proposal for voting, and if the proposal pass the amount is distributed equally to the members.</p>
<h2 id="adapter-workflow">Adapter workflow</h2>
<p>The token distribution starts when a member submits a proposal to distribute a certain amount of a token for one or all members of the DAO. It is important to mention that the distribution can only happen for 1 member or for all, there is no way to distribute the tokens for a subset of the DAO members.</p>
<p>Once the distribution proposal gets created, it is open for voting, and sponsored by the message sender. The adapter tracks all the distributions that have been executed already by each DAO, and also tracks the current distributions that is in progress - this is done to ensure the distributions are executed sequentially per DAO.</p>
<p>Once the distribution proposal has passed, the other members have to start the actual distribution process (function <code>processProposal</code>). In this process the member indicated in the proposal or each member of the DAO will receive, based on the current number of holding units, a token amount in the internal bank account, so it can be withdraw later on. This process does not changes the number of units of the members, it just uses it to calculate the fair amount to distribute for each member. After that, the distribution proposal gets updated to <code>Completed</code>.</p>
<h2 id="adapter-configuration">Adapter configuration</h2>
<p>The member needs to have at least 1 unit to be able to receive funds from a distribution proposal.</p>
<p>DAORegistry Access Flags: <code>SUBMIT_PROPOSAL</code>.</p>
<p>Bank Extension Access Flags: <code>INTERNAL_TRANSFER</code>.</p>
<h2 id="adapter-state">Adapter state</h2>
<ul>
<li><code>DistributionStatus</code>: The distribution status (<code>Not Started</code>, <code>In Progress</code>, <code>Done</code>).</li>
<li><code>Distribution</code>: State of the proposal.</li>
<li><code>token</code>: The distribution token in which the members should receive the funds. Must be supported by the DAO.</li>
<li><code>amount</code>: The amount to distribute.</li>
<li><code>status</code>: The distribution status.</li>
<li><code>unitHolderAddr</code>: The member address that should receive the funds, if 0x0, the funds will be distributed to all members of the DAO.</li>
<li><code>currentIndex</code>: Current iteration index to control the cached for-loop.</li>
<li><code>blockNumber</code>: The block number in which the proposal has been created.</li>
<li><code>distributions</code>: Keeps track of all the distributions executed per DAO.</li>
<li><code>ongoingDistributions</code>: Keeps track of the latest ongoing distribution proposal per DAO to ensure only 1 proposal can be processed at a time.</li>
</ul>
<h2 id="dependencies-and-interactions-internal-external">Dependencies and interactions (internal / external)</h2>
<ul>
<li>
<p>BankExtension</p>
</li>
<li>
<p>transfers the funds from the DAO account to the member's account.</p>
</li>
<li>gets the available tokens.</li>
<li>
<p>gets the historical balance of the guild account.</p>
</li>
<li>
<p>DaoRegistry</p>
</li>
<li>
<p>checks if the message sender is actually a member of the DAO.</p>
</li>
<li>checks if the unit holder is actually a member of the DAO.</li>
<li>
<p>process the distribution proposal.</p>
</li>
<li>
<p>Voting</p>
</li>
<li>
<p>starts a new voting for the distribution proposal.</p>
</li>
<li>
<p>checks the voting results.</p>
</li>
<li>
<p>FairShareHelper</p>
</li>
<li>
<p>to calculate the amount of funds to be distributed to the member based on the current number of units of the member - taking into account the historical balance of the GUILD.</p>
</li>
</ul>
<h2 id="functions-description-and-assumptions-checks">Functions description and assumptions / checks</h2>
<h3 id="receive-external-payable">receive() external payable</h3>
<pre><code class="language-solidity">    /**
     * @notice default fallback function to prevent from sending ether to the contract.
     */
    receive() external payable
</code></pre>
<h3 id="function-submitproposal">function submitProposal</h3>
<pre><code class="language-solidity">    /**
     * @notice Creates a distribution proposal for one or all members of the DAO, opens it for voting, and sponsors it.
     * @dev Only tokens that are allowed by the Bank are accepted.
     * @dev If the unitHolderAddr is 0x0, then the funds will be distributed to all members of the DAO.
     * @dev Proposal ids can not be reused.
     * @dev The amount must be greater than zero.
     * @param dao The dao address.
     * @param proposalId The distribution proposal id.
     * @param unitHolderAddr The member address that should receive the funds, if 0x0, the funds will be distributed to all members of the DAO.
     * @param token The distribution token in which the members should receive the funds. Must be supported by the DAO.
     * @param amount The amount to distribute.
     * @param data Additional information related to the distribution proposal.
     */
    function submitProposal(
        DaoRegistry dao,
        bytes32 proposalId,
        address unitHolderAddr,
        address token,
        int256 amount,
        bytes calldata data
    ) external

</code></pre>
<h3 id="_submitproposal">_submitProposal</h3>
<pre><code class="language-solidity">    /**
     * @notice Creates the proposal, starts the voting process and sponsors the proposal.
     * @dev If the unit holder address was provided in the params, the unit holder must have enough units to receive the funds.
     */
    function _submitProposal(
        DaoRegistry dao,
        bytes32 proposalId,
        address unitHolderAddr,
        address token,
        uint256 amount,
        bytes calldata data,
        address submittedBy
    ) internal onlyMember2(dao, submittedBy)
</code></pre>
<h3 id="processproposal">processProposal</h3>
<pre><code class="language-solidity">    /**
     * @notice Process the distribution proposal, calculates the fair amount of funds to distribute to the members based on the units holdings.
     * @dev A distribution proposal must be in progress.
     * @dev Only one proposal per DAO can be executed at time.
     * @dev Only active members can receive funds.
     * @dev Only proposals that passed the voting can be set to In Progress status.
     * @param dao The dao address.
     * @param proposalId The distribution proposal id.
     */
    function processProposal(DaoRegistry dao, bytes32 proposalId)
        external

</code></pre>
<h3 id="distribute">distribute</h3>
<pre><code class="language-solidity">     /**
     * @notice Transfers the funds from the Guild account to the member's internal accounts.
     * @notice The amount of funds is caculated using the historical number of units of each member.
     * @dev A distribution proposal must be in progress.
     * @dev Only proposals that have passed the voting can be completed.
     * @dev Only active members can receive funds.
     * @param dao The dao address.
     * @param toIndex The index to control the cached for-loop.
     */
    function distribute(DaoRegistry dao, uint256 toIndex) external override

</code></pre>
<h2 id="events">Events</h2>
<p>When the distribution process is completed the <code>Distributed</code> event is emitted with the <code>token</code>, <code>amount</code>, and <code>unitHolder</code> parameters. If the <code>unitHolder</code> is <code>0x0</code>, the amount was distributed to <strong>all</strong> members of the DAO, otherwise it was distributed to the unit holder only.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../CouponOnboarding/" class="md-footer__link md-footer__link--prev" aria-label="Previous: CouponOnboarding" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              CouponOnboarding
            </div>
          </div>
        </a>
      
      
        
        <a href="../Financing/" class="md-footer__link md-footer__link--next" aria-label="Next: Financing" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Financing
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.76f349be.min.js"></script>
      
    
  </body>
</html>