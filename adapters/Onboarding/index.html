
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://openlawteam.github.io/tribute-contracts/adapters/Onboarding/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.8">
    
    
      
        <title>Onboarding - Tribute DAO Framework</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adapter-description-and-scope" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Tribute DAO Framework" class="md-header__button md-logo" aria-label="Tribute DAO Framework" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tribute DAO Framework
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Onboarding
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tribute DAO Framework" class="md-nav__button md-logo" aria-label="Tribute DAO Framework" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Tribute DAO Framework
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../ThankYou/" class="md-nav__link">
        ThankYou
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Adapters
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Adapters" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Adapters
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../BatchVoting/" class="md-nav__link">
        BatchVoting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../CouponOnboarding/" class="md-nav__link">
        CouponOnboarding
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Distribute/" class="md-nav__link">
        Distribute
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Financing/" class="md-nav__link">
        Financing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../GuildKick/" class="md-nav__link">
        GuildKick
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../HowToCreate/" class="md-nav__link">
        How to create an Adapter
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Managing/" class="md-nav__link">
        Managing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../OffchainVoting/" class="md-nav__link">
        OffchainVoting
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Onboarding
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Onboarding
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adapter-description-and-scope" class="md-nav__link">
    Adapter description and scope
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-workflow" class="md-nav__link">
    Adapter workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-configuration" class="md-nav__link">
    Adapter configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-state" class="md-nav__link">
    Adapter state
  </a>
  
    <nav class="md-nav" aria-label="Adapter state">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#onboardingchunksize" class="md-nav__link">
    onboarding.chunkSize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onboardingunitsperchunk" class="md-nav__link">
    onboarding.unitsPerChunk
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onboardingtokenaddr" class="md-nav__link">
    onboarding.tokenAddr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onboardingmaximumchunks" class="md-nav__link">
    onboarding.maximumChunks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-state_1" class="md-nav__link">
    Adapter state
  </a>
  
    <nav class="md-nav" aria-label="Adapter state">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proposaldetails" class="md-nav__link">
    ProposalDetails
  </a>
  
    <nav class="md-nav" aria-label="ProposalDetails">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unitstomint" class="md-nav__link">
    unitsToMint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amount" class="md-nav__link">
    amount
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unitsrequested" class="md-nav__link">
    unitsRequested
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#token" class="md-nav__link">
    token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applicant" class="md-nav__link">
    applicant
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposals-mapping" class="md-nav__link">
    proposals mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#units" class="md-nav__link">
    units
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-description-and-assumptions-checks" class="md-nav__link">
    Functions description and assumptions / checks
  </a>
  
    <nav class="md-nav" aria-label="Functions description and assumptions / checks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-configkeyaddress-tokenaddrtomint-bytes32-key-returns-bytes32" class="md-nav__link">
    function configKey(address tokenAddrToMint, bytes32 key) returns (bytes32)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-configuredaodaoregistry-dao-address-unitstomint-uint256-chunksize-uint256-unitsperchunk-uint256-maximumchunks-address-tokenaddr" class="md-nav__link">
    function configureDao(DaoRegistry dao, address unitsToMint, uint256 chunkSize, uint256 unitsPerChunk, uint256 maximumChunks, address tokenAddr)
  </a>
  
    <nav class="md-nav" aria-label="function configureDao(DaoRegistry dao, address unitsToMint, uint256 chunkSize, uint256 unitsPerChunk, uint256 maximumChunks, address tokenAddr)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency" class="md-nav__link">
    dependency
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-submitproposaldaoregistry-dao-bytes32-proposalid-address-payable-applicant-address-tokentomint-uint256-tokenamount-bytes-memory-data" class="md-nav__link">
    function submitProposal(DaoRegistry dao, bytes32 proposalId, address payable applicant, address tokenToMint, uint256 tokenAmount, bytes memory data)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-_sponsorproposaldaoregistry-dao-bytes32-proposalid-bytes-memory-data" class="md-nav__link">
    function _sponsorProposal(DaoRegistry dao, bytes32 proposalId, bytes memory data)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-processproposaldaoregistry-dao-bytes32-proposalid" class="md-nav__link">
    function processProposal(DaoRegistry dao, bytes32 proposalId)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-_submitmembershipproposaldaoregistry-dao-bytes32-proposalid-address-tokentomint-address-payable-applicant-uint256-value-address-token" class="md-nav__link">
    function _submitMembershipProposal(DaoRegistry dao, bytes32 proposalId, address tokenToMint, address payable applicant, uint256 value, address token)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    Events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Ragequit/" class="md-nav__link">
        Ragequit
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Template/" class="md-nav__link">
        Template
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Tribute/" class="md-nav__link">
        Tribute
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../TributeNFT/" class="md-nav__link">
        TributeNFT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Voting/" class="md-nav__link">
        Voting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Withdraw/" class="md-nav__link">
        Withdraw
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Core
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Core" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../core/DaoFactory/" class="md-nav__link">
        DaoFactory
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../core/DaoRegistry/" class="md-nav__link">
        DaoRegistry
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Extensions
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Extensions" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Extensions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/Bank/" class="md-nav__link">
        Bank
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/ERC20/" class="md-nav__link">
        ERC20
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/Executor/" class="md-nav__link">
        Executor
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/NFT/" class="md-nav__link">
        NFT
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Guards
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Guards" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Guards
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guards/AdapterGuard/" class="md-nav__link">
        AdapterGuard
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guards/MemberGuard/" class="md-nav__link">
        MemberGuard
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Helpers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Helpers" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Helpers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../helpers/FairShareHelper/" class="md-nav__link">
        FairShareHelper
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adapter-description-and-scope" class="md-nav__link">
    Adapter description and scope
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-workflow" class="md-nav__link">
    Adapter workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-configuration" class="md-nav__link">
    Adapter configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-state" class="md-nav__link">
    Adapter state
  </a>
  
    <nav class="md-nav" aria-label="Adapter state">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#onboardingchunksize" class="md-nav__link">
    onboarding.chunkSize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onboardingunitsperchunk" class="md-nav__link">
    onboarding.unitsPerChunk
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onboardingtokenaddr" class="md-nav__link">
    onboarding.tokenAddr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onboardingmaximumchunks" class="md-nav__link">
    onboarding.maximumChunks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapter-state_1" class="md-nav__link">
    Adapter state
  </a>
  
    <nav class="md-nav" aria-label="Adapter state">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proposaldetails" class="md-nav__link">
    ProposalDetails
  </a>
  
    <nav class="md-nav" aria-label="ProposalDetails">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unitstomint" class="md-nav__link">
    unitsToMint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amount" class="md-nav__link">
    amount
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unitsrequested" class="md-nav__link">
    unitsRequested
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#token" class="md-nav__link">
    token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applicant" class="md-nav__link">
    applicant
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposals-mapping" class="md-nav__link">
    proposals mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#units" class="md-nav__link">
    units
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-description-and-assumptions-checks" class="md-nav__link">
    Functions description and assumptions / checks
  </a>
  
    <nav class="md-nav" aria-label="Functions description and assumptions / checks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-configkeyaddress-tokenaddrtomint-bytes32-key-returns-bytes32" class="md-nav__link">
    function configKey(address tokenAddrToMint, bytes32 key) returns (bytes32)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-configuredaodaoregistry-dao-address-unitstomint-uint256-chunksize-uint256-unitsperchunk-uint256-maximumchunks-address-tokenaddr" class="md-nav__link">
    function configureDao(DaoRegistry dao, address unitsToMint, uint256 chunkSize, uint256 unitsPerChunk, uint256 maximumChunks, address tokenAddr)
  </a>
  
    <nav class="md-nav" aria-label="function configureDao(DaoRegistry dao, address unitsToMint, uint256 chunkSize, uint256 unitsPerChunk, uint256 maximumChunks, address tokenAddr)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency" class="md-nav__link">
    dependency
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-submitproposaldaoregistry-dao-bytes32-proposalid-address-payable-applicant-address-tokentomint-uint256-tokenamount-bytes-memory-data" class="md-nav__link">
    function submitProposal(DaoRegistry dao, bytes32 proposalId, address payable applicant, address tokenToMint, uint256 tokenAmount, bytes memory data)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-_sponsorproposaldaoregistry-dao-bytes32-proposalid-bytes-memory-data" class="md-nav__link">
    function _sponsorProposal(DaoRegistry dao, bytes32 proposalId, bytes memory data)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-processproposaldaoregistry-dao-bytes32-proposalid" class="md-nav__link">
    function processProposal(DaoRegistry dao, bytes32 proposalId)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-_submitmembershipproposaldaoregistry-dao-bytes32-proposalid-address-tokentomint-address-payable-applicant-uint256-value-address-token" class="md-nav__link">
    function _submitMembershipProposal(DaoRegistry dao, bytes32 proposalId, address tokenToMint, address payable applicant, uint256 value, address token)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    Events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Onboarding</h1>
                
                <h2 id="adapter-description-and-scope">Adapter description and scope</h2>
<p>The Onboarding adapter allows potential and existing DAO members to contribute Ether or ERC-20 tokens to the DAO in exchange for a fixed amount of internal tokens (e.g., UNITS or LOOT tokens already registered with the DAO Bank) based on the amount of assets contributed. If the proposal passes, the internal tokens are minted to the applicant (which effectively makes the applicant a member of the DAO if not already one) and the tokens provided as tribute are transferred to the Bank extension.</p>
<p>You can mint any internal tokens but it is usually to mint either UNITS or LOOT tokens. The onboarding process supports raw Ether and ERC-20 tokens as tribute. The ERC-20 token must be allowed/supported by the Bank.</p>
<h2 id="adapter-workflow">Adapter workflow</h2>
<p>An onboarding proposal is made by a member first submitting a proposal specifying (1) the applicant who wishes to join the DAO (or increase his stake in the DAO), (2) the type of internal tokens the applicant desires (e.g., member UNITS), and (3) the amount of Ether or ERC-20 tokens that will transfer to the DAO in exchange for those internal tokens. The applicant and actual owner of the ERC-20 tokens can be separate accounts (e.g., the token owner is providing tribute on behalf of the applicant). The internal token type requested must be already registered with the DAO Bank and will usually be pre-defined UNITS or LOOT tokens in the DAO. The proposal submission does not actually transfer the Ether or ERC-20 tokens from its owner. That occurs only after the proposal passes and is processed.</p>
<p>The proposal is also sponsored in the same transaction when it is submitted. When a DAO member sponsors the proposal, the voting period begins allowing members to vote for or against the proposal. Only a member can sponsor the proposal.</p>
<p>After the voting period is done along with its subsequent grace period, the proposal can be processed. Any account can process a failed proposal. However, only the original proposer (owner of the assets being transferred to the DAO) can process a passed proposal. Prior to processing a passed proposal involving ERC-20 tribute tokens, the owner of those tokens must first separately <code>approve</code> the Onboarding adapter as spender of the tokens provided as tribute. Upon processing, if the vote has passed, the internal tokens are minted to the applicant (which effectively makes the applicant a member of the DAO if not already one). The amount of Ether or ERC-20 tokens provided as tribute are added to the Guild balance and transferred from the token owner to the Bank extension.</p>
<p>Upon processing, if the vote has failed (i.e., more NO votes then YES votes or a tie), no further action is taken (the owner of the Ether or ERC-20 tokens still retains ownership of the assets).</p>
<h2 id="adapter-configuration">Adapter configuration</h2>
<p>Each configuration is done based on the token address that needs to be minted.</p>
<p>DAORegistry Access Flags: <code>SUBMIT_PROPOSAL</code>, <code>UPDATE_DELEGATE_KEY</code>, <code>NEW_MEMBER</code>.</p>
<p>Bank Extension Access Flags: <code>ADD_TO_BALANCE</code>.</p>
<h2 id="adapter-state">Adapter state</h2>
<h3 id="onboardingchunksize">onboarding.chunkSize</h3>
<p>How many tokens need to be minted per chunk bought.</p>
<h3 id="onboardingunitsperchunk">onboarding.unitsPerChunk</h3>
<p>How many units (tokens from tokenAddr) are being minted per chunk.</p>
<h3 id="onboardingtokenaddr">onboarding.tokenAddr</h3>
<p>In which currency (tokenAddr) should the onboarding take place.</p>
<h3 id="onboardingmaximumchunks">onboarding.maximumChunks</h3>
<p>How many chunks can someone buy max. This helps force decentralization of token holders.</p>
<h2 id="adapter-state_1">Adapter state</h2>
<p>Onboarding keeps track of every proposal that goes through it as well as the number of tokens that have been minted so far.</p>
<h3 id="proposaldetails">ProposalDetails</h3>
<p>For each proposal created through the adapter, we keep track of the following information:</p>
<h4 id="id">id</h4>
<p>The proposalId (provided offchain).</p>
<h4 id="unitstomint">unitsToMint</h4>
<p>Which token needs to be minted if the proposal passes.</p>
<h4 id="amount">amount</h4>
<p>The amount sent by the proposer.</p>
<h4 id="unitsrequested">unitsRequested</h4>
<p>The amount of internal tokens that needs to be minted to the applicant if the proposal passes.</p>
<h4 id="token">token</h4>
<p>What currency has been used in the onboarding process.</p>
<p>We keep this information even though it is part of the configuration to handle the case where the configuration changes while a proposal has been created but not processed yet.</p>
<h4 id="applicant">applicant</h4>
<p>The applicant address.</p>
<h3 id="proposals-mapping">proposals mapping</h3>
<p>The proposals are organized by DAO address and then by proposal id.</p>
<h3 id="units">units</h3>
<p>Accounting to see the amount of a particular internal token that has been minted for a particular applicant. This is then checked against the maxChunks configuration to determine if the onboarding proposal is allowed or not.</p>
<h2 id="functions-description-and-assumptions-checks">Functions description and assumptions / checks</h2>
<h3 id="function-configkeyaddress-tokenaddrtomint-bytes32-key-returns-bytes32">function configKey(address tokenAddrToMint, bytes32 key) returns (bytes32)</h3>
<p>This is the function to build the config key for a particular tokenAddrToMint.
It's a pure function.</p>
<h3 id="function-configuredaodaoregistry-dao-address-unitstomint-uint256-chunksize-uint256-unitsperchunk-uint256-maximumchunks-address-tokenaddr">function configureDao(DaoRegistry dao, address unitsToMint, uint256 chunkSize, uint256 unitsPerChunk, uint256 maximumChunks, address tokenAddr)</h3>
<p>This function configures the adapter for a particular DAO.
The modifier is adapterOnly which means that only if the sender is either a registered adapter of the DAO or if it is in creation mode can it be called.
The function checks that chunkSize, unitsPerChunks and maximumChunks cannot be 0.</p>
<p><strong>tokenAddr</strong> is being whitelisted in the bank extension as an ERC-20 token
<strong>unitsToMint</strong> is being whitelisted in the bank extension as an internal token</p>
<h4 id="dependency">dependency</h4>
<p>The adapter also needs a Bank extension. So <code>confgureDao</code> will fail if no bank extension is found.</p>
<h3 id="function-submitproposaldaoregistry-dao-bytes32-proposalid-address-payable-applicant-address-tokentomint-uint256-tokenamount-bytes-memory-data">function submitProposal(DaoRegistry dao, bytes32 proposalId, address payable applicant, address tokenToMint, uint256 tokenAmount, bytes memory data)</h3>
<p>Submits and sponsors the proposal. Only members can call this function.</p>
<p>This function uses <strong>_submitMembershipProposal</strong> to create the proposal.</p>
<p>This function uses <strong>_sponsorProposal</strong> to sponsor the proposal.</p>
<h3 id="function-_sponsorproposaldaoregistry-dao-bytes32-proposalid-bytes-memory-data">function _sponsorProposal(DaoRegistry dao, bytes32 proposalId, bytes memory data)</h3>
<p>This internal function starts a vote on the proposal to onboard a new member.</p>
<p><strong>dao.sponsorProposal(proposalId, sponsoredBy, address(votingContract))</strong> checks already that the proposal has not been sponsored yet</p>
<p><strong>voting.startNewVotingForProposal(dao, proposalId, data)</strong> starts the vote process</p>
<h3 id="function-processproposaldaoregistry-dao-bytes32-proposalid">function processProposal(DaoRegistry dao, bytes32 proposalId)</h3>
<p>Once the vote on a proposal is finished, it is time to process it. Anybody can call this function.</p>
<p>The function checks that there is a vote in progress for this proposalId and that it has not been processed yet.
If the vote is a success (<code>PASS</code>), then we process it by minting the internal tokens and moving the tokens from the adapter to the bank extension.</p>
<p>If the vote is a tie (<code>TIE</code>) or failed (<code>NOT_PASS</code>), then the funds are returned to the proposer.</p>
<p>Otherwise, the state is invalid and the transaction is reverted (if the vote does not exist or if it is in progress).</p>
<h3 id="function-_submitmembershipproposaldaoregistry-dao-bytes32-proposalid-address-tokentomint-address-payable-applicant-uint256-value-address-token">function _submitMembershipProposal(DaoRegistry dao, bytes32 proposalId, address tokenToMint, address payable applicant, uint256 value, address token)</h3>
<p>This function marks the proposalId as submitted in the DAO and saves the information in the internal adapter state.</p>
<h3 id="events">Events</h3>
<p>No events are emitted from this adapter.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../OffchainVoting/" class="md-footer__link md-footer__link--prev" aria-label="Previous: OffchainVoting" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              OffchainVoting
            </div>
          </div>
        </a>
      
      
        
        <a href="../Ragequit/" class="md-footer__link md-footer__link--next" aria-label="Next: Ragequit" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Ragequit
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.76f349be.min.js"></script>
      
    
  </body>
</html>