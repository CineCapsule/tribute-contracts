
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://openlawteam.github.io/tribute-contracts/extensions/Executor/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.8">
    
    
      
        <title>Executor - Tribute DAO Framework</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#extension-description-and-scope" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Tribute DAO Framework" class="md-header__button md-logo" aria-label="Tribute DAO Framework" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tribute DAO Framework
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Executor
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tribute DAO Framework" class="md-nav__button md-logo" aria-label="Tribute DAO Framework" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Tribute DAO Framework
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../ThankYou/" class="md-nav__link">
        ThankYou
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Adapters
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Adapters" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Adapters
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/BatchVoting/" class="md-nav__link">
        BatchVoting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/Configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/CouponOnboarding/" class="md-nav__link">
        CouponOnboarding
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/Distribute/" class="md-nav__link">
        Distribute
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/Financing/" class="md-nav__link">
        Financing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/GuildKick/" class="md-nav__link">
        GuildKick
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/HowToCreate/" class="md-nav__link">
        How to create an Adapter
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/Managing/" class="md-nav__link">
        Managing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/OffchainVoting/" class="md-nav__link">
        OffchainVoting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/Onboarding/" class="md-nav__link">
        Onboarding
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/Ragequit/" class="md-nav__link">
        Ragequit
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/Template/" class="md-nav__link">
        Template
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/Tribute/" class="md-nav__link">
        Tribute
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/TributeNFT/" class="md-nav__link">
        TributeNFT
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/Voting/" class="md-nav__link">
        Voting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../adapters/Withdraw/" class="md-nav__link">
        Withdraw
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Core
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Core" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../core/DaoFactory/" class="md-nav__link">
        DaoFactory
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../core/DaoRegistry/" class="md-nav__link">
        DaoRegistry
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        Extensions
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Extensions" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Extensions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Bank/" class="md-nav__link">
        Bank
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ERC20/" class="md-nav__link">
        ERC20
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Executor
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Executor
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#extension-description-and-scope" class="md-nav__link">
    Extension description and scope
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extension-state" class="md-nav__link">
    Extension state
  </a>
  
    <nav class="md-nav" aria-label="Extension state">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#daoregistry-public-dao" class="md-nav__link">
    DaoRegistry public dao;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bool-public-initialized-false" class="md-nav__link">
    bool public initialized = false;
  </a>
  
    <nav class="md-nav" aria-label="bool public initialized = false;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-flags" class="md-nav__link">
    Access Flags
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extension-functions" class="md-nav__link">
    Extension functions
  </a>
  
    <nav class="md-nav" aria-label="Extension functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-initialize" class="md-nav__link">
    function initialize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-_delegate" class="md-nav__link">
    function _delegate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-_fallback" class="md-nav__link">
    function _fallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-fallback" class="md-nav__link">
    function fallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-receive" class="md-nav__link">
    function receive
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    Events
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-access-permissions" class="md-nav__link">
    Required Access Permissions
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../NFT/" class="md-nav__link">
        NFT
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Guards
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Guards" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Guards
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guards/AdapterGuard/" class="md-nav__link">
        AdapterGuard
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guards/MemberGuard/" class="md-nav__link">
        MemberGuard
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Helpers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Helpers" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Helpers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../helpers/FairShareHelper/" class="md-nav__link">
        FairShareHelper
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#extension-description-and-scope" class="md-nav__link">
    Extension description and scope
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extension-state" class="md-nav__link">
    Extension state
  </a>
  
    <nav class="md-nav" aria-label="Extension state">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#daoregistry-public-dao" class="md-nav__link">
    DaoRegistry public dao;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bool-public-initialized-false" class="md-nav__link">
    bool public initialized = false;
  </a>
  
    <nav class="md-nav" aria-label="bool public initialized = false;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-flags" class="md-nav__link">
    Access Flags
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extension-functions" class="md-nav__link">
    Extension functions
  </a>
  
    <nav class="md-nav" aria-label="Extension functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-initialize" class="md-nav__link">
    function initialize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-_delegate" class="md-nav__link">
    function _delegate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-_fallback" class="md-nav__link">
    function _fallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-fallback" class="md-nav__link">
    function fallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-receive" class="md-nav__link">
    function receive
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    Events
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-access-permissions" class="md-nav__link">
    Required Access Permissions
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Executor</h1>
                
                <h2 id="extension-description-and-scope">Extension description and scope</h2>
<p>The Executor Extension is a Proxy Contract inspired by the <a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/proxy/Proxy.sol">OpenZeppelin Proxy</a> from <a href="https://github.com/OpenZeppelin">OpenZeppelin</a> team.</p>
<p>The common use case for <a href="https://blog.openzeppelin.com/proxy-patterns/">Proxy Patterns in Ethereum Blockchain</a> is to make your contracts upgradable. This is achieved by setting up a proxy contract that allows you to call a new deployed contract as if the main logic has been upgraded. The trick here is to send the call through a Proxy contract, and use the <code>delegatecall</code> EVM instruction to redirect/delegate its the execution to the latest deployed contract logic.</p>
<p>When working with Proxy contract we need to take into account:</p>
<ol>
<li>If you call a function that is not supported/implemented by the contract, the contract <code>fallback</code> function is trigged. You can customize your <code>fallback</code> function to handle special cases. For instance, you can make your proxy contract to use a custom <code>fallback</code> function to redirect/delegate calls to other contracts.</li>
<li>If a contract <code>A</code> delegates a call to another contract <code>B</code>, <code>A</code> executes the code of contract <code>B</code> in the context of contract <code>A</code>, so the <code>msg.value</code> and <code>msg.sender</code> values will be preserved, i.e: you will not see the address of <code>A</code> as <code>msg.sender</code> in the executed function in <code>B</code>, but you will see the actual caller address that triggered the call to contract <code>A</code>. In addition to that, the storage modifications will always be applied to the storage of contract <code>A</code>, and <code>B</code> storage remains intact even after the delegated execution.</li>
</ol>
<p>With that in mind, we implemented the Executor Extension, which adds to the DAO the capability of executing delegated calls to another contract using the same EVM instruction <code>delegatecall</code>. The call is triggered via custom <code>fallback</code> function, which sets the <code>msg.sender</code> as the called address, and executes in the target contract identified by its address provided via <code>implementation</code> argument. For that, we can use the <code>fallback</code> function to pass the <code>implementation</code> address as the <code>msg.sender</code>, i.e: the contract <code>A</code>, in our example, will be calling itself through a proxy. This enables different use cases for proxy patterns in the Tribute DAO Framework.</p>
<p>Most of the time, we determine who is calling a function by checking the <code>msg.sender</code>, but supposing we want to execute calls from the DAO through different adapters directly, <code>msg.sender</code> would be the address of the adapter itself, and that is an issue because an adapter can be shared between different DAOs. In addition to that, if you want to do execute a new logic from a new adapter, the adapter address would change, hence the <code>msg.sender</code>, and there is no way to link between them.</p>
<p>However, when you execute the function call through the Executor Extension, suddenly the DAO has creates an identity, because the interaction with the implementation contract that triggers a new function call that will be using the <code>msg.sender</code> as the Executor address via an internal transaction, and that provides a generic proxy pattern that allows you to interact with other smart contracts with the same <code>msg.sender</code> (Executor Extension), no matter the logic implemented in the target contract.</p>
<p>There are some restrictions and conventions that need to be respected to make sure the calls are executed safelly:</p>
<ul>
<li>The caller contract, usually an Adapter, must have permission to use the extension. The permission is set through the ACL Flag: <code>EXECUTOR</code> during the Adapter configuration phase.</li>
<li>The caller contract must implement the function that will be triggered by the Executor, and it needs to be restricted to the Executor address only. It can be done by adding the access guard: <code>executorFunc(dao)</code> from <code>AdapterGuard</code>.</li>
<li>The caller contract can not change/upgrade it's own state/storage in the logic function (i.e: the function that will be called by the Executor). The reason for that is to prevent storage collisions with the Executor storage. Any state change must be stored in a third contract, the contract that actually manages the state changes, and that will be associated to the Executor address though an internal transaction.</li>
</ul>
<p>With the Executor Extension we can cover new use cases, and basically execute any sort function call from the DAO to the outside world. Considering the Tribute DAO Framework architecture, the call should always go through an Adapter, because a core contract should not acess the extenal world directly, but it is fine if it relies on an Adapter. Some examples of these proxy call are:</p>
<ul>
<li>joining an LP from the DAO (with staking).</li>
<li>joining another DAO.</li>
<li>claiming money from a parent DAO.</li>
</ul>
<h2 id="extension-state">Extension state</h2>
<h3 id="daoregistry-public-dao">DaoRegistry public dao;</h3>
<p>The DAO address that this extension belongs to</p>
<h3 id="bool-public-initialized-false">bool public initialized = false;</h3>
<p>Internally tracks deployment under eip-1167 proxy pattern</p>
<h4 id="access-flags">Access Flags</h4>
<ul>
<li>None, it does not access the DAO Registry.</li>
</ul>
<p>Access Control Layer Flags - explicitly grant the extension permissions to change the bank and dao states.</p>
<h2 id="extension-functions">Extension functions</h2>
<h3 id="function-initialize">function initialize</h3>
<pre><code class="language-solidity">/**
  * @notice Initializes the extension with the DAO that it belongs to,
  * and checks if the parameters were set.
  * @param _dao The address of the DAO that owns the extension.
  * @param creator The owner of the DAO and Extension that is also a member of the DAO.
  */
function initialize(DaoRegistry _dao, address creator) external override
</code></pre>
<h3 id="function-_delegate">function _delegate</h3>
<pre><code class="language-solidity">/**
  * @dev Delegates the current call to `implementation`.
  *
  * This function does not return to its internall call site, it will return directly to the external caller.
  */
function _delegate(address implementation)
    internal
    virtual
    hasExtensionAccess(AclFlag.EXECUTE)
</code></pre>
<h3 id="function-_fallback">function _fallback</h3>
<pre><code class="language-solidity">/**
  * @dev Delegates the current call to the sender address.
  *
  * This function does not return to its internall call site, it will return directly to the external caller.
  */
function _fallback() internal virtual
</code></pre>
<h3 id="function-fallback">function fallback</h3>
<pre><code class="language-solidity"> /**
  * @dev Fallback function that delegates calls to the sender address. Will run if no other
  * function in the contract matches the call data.
  */
fallback() external payable
</code></pre>
<h3 id="function-receive">function receive</h3>
<pre><code class="language-solidity">/**
  * @dev Fallback function that delegates calls to the address returned by `_implementation()`.
  */
receive() external payable
</code></pre>
<h2 id="events">Events</h2>
<ul>
<li>No events are emitted.</li>
</ul>
<h2 id="required-access-permissions">Required Access Permissions</h2>
<ul>
<li><code>EXECUTE</code>: to be able to execute the delegatedcall using the Executor Proxy pattern.</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../ERC20/" class="md-footer__link md-footer__link--prev" aria-label="Previous: ERC20" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              ERC20
            </div>
          </div>
        </a>
      
      
        
        <a href="../NFT/" class="md-footer__link md-footer__link--next" aria-label="Next: NFT" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              NFT
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.76f349be.min.js"></script>
      
    
  </body>
</html>