(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[250],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return l},kt:function(){return h}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=r.createContext({}),c=function(e){var t=r.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},l=function(e){var t=c(e.components);return r.createElement(d.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,d=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=c(n),h=a,f=p["".concat(d,".").concat(h)]||p[h]||u[h]||i;return n?r.createElement(f,o(o({ref:t},l),{},{components:n})):r.createElement(f,o({ref:t},l))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=p;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},8271:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},metadata:function(){return d},toc:function(){return c},default:function(){return u}});var r=n(2122),a=n(9756),i=(n(7294),n(3905)),o=["components"],s={id:"withdraw-adapter",title:"Withdraw"},d={unversionedId:"adapters/distribution/withdraw-adapter",id:"adapters/distribution/withdraw-adapter",isDocsHomePage:!1,title:"Withdraw",description:"The Withdraw adapter allows a member or an advisor of the DAO to withdraw the available funds in their bank account.",source:"@site/docs/adapters/distribution/Withdraw.md",sourceDirName:"adapters/distribution",slug:"/adapters/distribution/withdraw-adapter",permalink:"/tribute-contracts/docs/adapters/distribution/withdraw-adapter",editUrl:"https://github.com/openlawteam/tribute-contracts/edit/docs/website/docs/adapters/distribution/Withdraw.md",version:"current",frontMatter:{id:"withdraw-adapter",title:"Withdraw"},sidebar:"adapters",previous:{title:"Distribute",permalink:"/tribute-contracts/docs/adapters/distribution/distribute-adapter"},next:{title:"Financing",permalink:"/tribute-contracts/docs/adapters/funding/financing-adapter"}},c=[{value:"Adapter workflow",id:"adapter-workflow",children:[]},{value:"Adapter configuration",id:"adapter-configuration",children:[]},{value:"Adapter state",id:"adapter-state",children:[]},{value:"Dependencies and interactions (internal / external)",id:"dependencies-and-interactions-internal--external",children:[]},{value:"Functions description and assumptions / checks",id:"functions-description-and-assumptions--checks",children:[{value:"receive() external payable",id:"receive-external-payable",children:[]},{value:"function withdraw",id:"function-withdraw",children:[]}]},{value:"Events",id:"events",children:[]}],l={toc:c};function u(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The Withdraw adapter allows a member or an advisor of the DAO to withdraw the available funds in their bank account."),(0,i.kt)("p",null,"It is considered a Generic adapter because it does not rely on any proposals to perform an action that changes the DAO state."),(0,i.kt)("h2",{id:"adapter-workflow"},"Adapter workflow"),(0,i.kt)("p",null,"The user sends a transaction to withdraw the funds from the internal bank account. If there are no available funds, the transaction is reverted. If the user is using an address that is reserved to the DAO, the transaction is also reverted. And when the user provides a token that is not supported by the bank, the balance is always zero and the transaction gets reverted as well."),(0,i.kt)("p",null,"If all the parameters are valid, the user should be able to identify the funds transferred to its own account."),(0,i.kt)("h2",{id:"adapter-configuration"},"Adapter configuration"),(0,i.kt)("p",null,"Bank Extension Access Flags: ",(0,i.kt)("inlineCode",{parentName:"p"},"WITHDRAW"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"SUB_FROM_BALANCE"),"."),(0,i.kt)("h2",{id:"adapter-state"},"Adapter state"),(0,i.kt)("p",null,"The adapter does not keep track of any state during the withdraw process."),(0,i.kt)("h2",{id:"dependencies-and-interactions-internal--external"},"Dependencies and interactions (internal / external)"),(0,i.kt)("p",null,"BankExtension"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Checks the account balance."),(0,i.kt)("li",{parentName:"ul"},"Executes the withdraw process.")),(0,i.kt)("p",null,"DAORegistry"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Checks if the account address is not a reserved address.")),(0,i.kt)("h2",{id:"functions-description-and-assumptions--checks"},"Functions description and assumptions / checks"),(0,i.kt)("h3",{id:"receive-external-payable"},"receive() external payable"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"    /**\n    * @notice default fallback function to prevent from sending ether to the contract\n    */\n    receive() external payable\n")),(0,i.kt)("h3",{id:"function-withdraw"},"function withdraw"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"    /**\n     * @notice Allows the member/advisor of the DAO to withdraw the funds from their internal bank account.\n     * @notice Only accounts that are not reserved can withdraw the funds.\n     * @notice If theres is no available balance in the user's account, the transaction is reverted.\n     * @param dao The DAO address.\n     * @param account The account to receive the funds.\n     * @param token The token address to receive the funds.\n     */\n    function withdraw(\n        DaoRegistry dao,\n        address payable account,\n        address token\n    ) external\n")),(0,i.kt)("h2",{id:"events"},"Events"),(0,i.kt)("p",null,"No events are emitted from this adapter."))}u.isMDXComponent=!0}}]);