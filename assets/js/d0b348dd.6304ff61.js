"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8669],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(n),h=r,m=d["".concat(l,".").concat(h)]||d[h]||u[h]||o;return n?a.createElement(m,i(i({ref:t},c),{},{components:n})):a.createElement(m,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8277:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return c},default:function(){return d}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=["components"],s={id:"interacting",title:"Tribute UI"},l=void 0,p={unversionedId:"tutorial/dao/interacting",id:"tutorial/dao/interacting",isDocsHomePage:!1,title:"Tribute UI",description:"\u26a1\ufe0f TributeDAO Framework provides you a set of modular and extensible smart contracts to launch your DAO with minimal costs.",source:"@site/docs/tutorial/dao/TributeUI.md",sourceDirName:"tutorial/dao",slug:"/tutorial/dao/interacting",permalink:"/docs/tutorial/dao/interacting",editUrl:"https://github.com/openlawteam/tribute-contracts/edit/docs/website/docs/tutorial/dao/TributeUI.md",tags:[],version:"current",frontMatter:{id:"interacting",title:"Tribute UI"},sidebar:"docs",previous:{title:"Deployment",permalink:"/docs/tutorial/dao/deployment"},next:{title:"How to create an Adapter",permalink:"/docs/tutorial/adapters/creating-an-adapter"}},c=[{value:"Requirements",id:"requirements",children:[]},{value:"Configuring the dApp",id:"configuring-the-dapp",children:[]},{value:"Configuring the Subgraph",id:"configuring-the-subgraph",children:[]},{value:"Starting the services",id:"starting-the-services",children:[]},{value:"Deploying the Subgraph",id:"deploying-the-subgraph",children:[]},{value:"Interacting with the DAO",id:"interacting-with-the-dao",children:[]},{value:"Problems?",id:"problems",children:[]}],u={toc:c};function d(e){var t=e.components,s=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"\u26a1\ufe0f ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://github.com/openlawteam/tribute-contracts"},"TributeDAO Framework"))," provides you a set of modular and extensible smart contracts to launch your DAO with minimal costs."),(0,o.kt)("h2",{id:"requirements"},"Requirements"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("a",{parentName:"strong",href:"https://infura.io/product/ethereum"},"Infura Ethereum API KEY")),", you can use the same key you created in the ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("a",{parentName:"strong",href:"/docs/tutorial/dao/configuration#requirements"},"Configuration step"))," of the tutorial."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("a",{parentName:"strong",href:"https://docs.docker.com/compose/install/"},"Docker Compose"))," install Docker Compose (",(0,o.kt)("a",{parentName:"li",href:"https://docs.docker.com/compose/install/"},"https://docs.docker.com/compose/install/"),"). This will be used in this tutorial to launch the local instances of snapshot-hub, graph node, and ipfs services."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("a",{parentName:"strong",href:"https://metamask.io/download.html"},"MetaMask"))," download and install MetaMask from ",(0,o.kt)("a",{parentName:"li",href:"https://metamask.io/download.html"},"https://metamask.io/download.html")," into your browser to access the DAO dApp.")),(0,o.kt)("h2",{id:"configuring-the-dapp"},"Configuring the dApp"),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Make sure you are on the branch ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/openlawteam/tribute-contracts/releases/tag/v1.0.6"},"release-v1.0.6")," which is the version that contains the contracts integrated with ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/openlawteam/tribute-ui"},"TributeUI"),"."))),(0,o.kt)("p",null,"In order to run the dApp we will be using ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose"),", which will help us to spin up all the services required by the dApp."),(0,o.kt)("p",null,"First, set the ",(0,o.kt)("inlineCode",{parentName:"p"},"tribute-ui")," env vars in the ",(0,o.kt)("inlineCode",{parentName:"p"},"tribute-contracts/.env")," file, just append it to the bottom of the file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'######\n# Paste it after the DAO env vars declared in the previous sections, these env vars are used by the services launched with Docker Compose.\n######\n\n# It can be the same value you used for the Tribute DAO deployment.\n# Replace "your-api-key" with your Infura key\nREACT_APP_INFURA_PROJECT_ID_DEV=your-api-key\n\n# The address of the Multicall smart contract deployed to the Rinkeby network.\n# Copy that from the tribute-contracts/logs/[network]-deploy.log\nREACT_APP_MULTICALL_CONTRACT_ADDRESS=0x...\n\n# The address of the DaoRegistry smart contract deployed to the Rinkeby network.\n# Copy that from the tribute-contracts/logs/[network]-deploy.log\nREACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS=0x...\n\n# The Ethereum Network node URL used by the Graph Node to listen to events.\n# Replace "your-api-key" with your Infura key\nethereum=rinkeby:https://rinkeby.infura.io/v3/your-api-key\n')),(0,o.kt)("p",null,"Open the file:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"tribute-contracts/logs/rinkeby-deploy.log")),(0,o.kt)("p",null,"Scroll to the end of the file, and find an output like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"************************\nDaoRegistry: 0x...\nMulticall: 0x...\n...\n************************\n")),(0,o.kt)("p",null,"These are the addresses of the contracts you have deployed to Rinkeby network. Just copy the address of ",(0,o.kt)("strong",{parentName:"p"},"DaoRegistry")," and ",(0,o.kt)("strong",{parentName:"p"},"Multicall"),", set them to ",(0,o.kt)("strong",{parentName:"p"},"REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS")," and ",(0,o.kt)("strong",{parentName:"p"},"REACT_APP_MULTICALL_CONTRACT_ADDRESS")," respectively."),(0,o.kt)("h2",{id:"configuring-the-subgraph"},"Configuring the Subgraph"),(0,o.kt)("p",null,"Open the file:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"tribute-contracts/subgraph/config/subgraph-config.json")),(0,o.kt)("p",null,"You should see something like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'### tribute-contracts/subgraph/config/subgraph-config.json\n[\n  {\n    "network": "rinkeby",\n    "daoFactoryAddress": "0x...", # Copy the DaoFactory contracts address from the deployment logs.\n    "daoFactoryStartBlock": blockNumber, # Copy the DaoFactory blockNumber from the deployment logs.\n    "GITHUB_USERNAME": "openlawteam", # do not change it\n    "SUBGRAPH_NAME": "tribute"  # do not change it\n  }\n]\n')),(0,o.kt)("p",null,"In the Rinkeby deployment logs at ",(0,o.kt)("em",{parentName:"p"},"tribute-contracts/logs/rinkeby-deploy.log")," search by ",(0,o.kt)("strong",{parentName:"p"},"DaoFactory")," and copy the ",(0,o.kt)("strong",{parentName:"p"},"contract address")," and ",(0,o.kt)("strong",{parentName:"p"},"block number"),", set the values to ",(0,o.kt)("strong",{parentName:"p"},"daoFactoryAddress")," and ",(0,o.kt)("strong",{parentName:"p"},"daoFactoryStartBlock")," respectively."),(0,o.kt)("h2",{id:"starting-the-services"},"Starting the services"),(0,o.kt)("p",null,"Using docker-compose let's start all the services in the ",(0,o.kt)("inlineCode",{parentName:"p"},"tribute-contracts/docker ")," folder:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose up\n")),(0,o.kt)("p",null,"This command will launch the several services that are integrated with Tribute DAO, and are essential to interact with the contracts in the Ethereum Network."),(0,o.kt)("p",null,"Wait for the following output:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"  trib-ui              | Compiled successfully!\n  trib-ui              |\n  trib-ui              | You can now view tribute-ui in the browser.\n  trib-ui              |\n  trib-ui              |   Local:            http://localhost:3000\n  trib-ui              |   On Your Network:  http://a.b.c.d:3000\n  trib-ui              |\n  trib-ui              | Note that the development build is not optimized.\n  trib-ui              | To create a production build, use npm run build.\n  trib-ui              |\n  trib-graph-node      | Sep 24 14:02:47.585 INFO Syncing 1 blocks from Ethereum., code: BlockIngestionStatus, blocks_needed: 1, blocks_behind: 1, latest_block_head: 9349060, current_block_head: 9349059, provider: rinkeby-rpc-0, component: BlockIngestor\n  ...\n")),(0,o.kt)("h2",{id:"deploying-the-subgraph"},"Deploying the Subgraph"),(0,o.kt)("p",null,"The dApp uses the subgraph to index and query the chain data, we already have it configured, but we still need to deploy it to our local graph node that we started with docker-compose."),(0,o.kt)("p",null,"In another terminal window access the subgraph folder ",(0,o.kt)("inlineCode",{parentName:"p"},"tribute-contracts/subgraph"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd subgraph\n")),(0,o.kt)("p",null,"Install the dependencies using node v16+:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install\n")),(0,o.kt)("p",null,"Deploy the subgraph:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npx ts-node subgraph-deployer.ts\n")),(0,o.kt)("p",null,"Wait for the following output:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"Deployed to http://localhost:8000/subgraphs/name/openlawteam/tribute/graphql\n\nSubgraph endpoints:\nQueries (HTTP):     http://localhost:8000/subgraphs/name/openlawteam/tribute\nSubscriptions (WS): http://localhost:8001/subgraphs/name/openlawteam/tribute\n\n\ud83d\udc4f ### Done.\n\ud83c\udf89 ### 1 Deployment(s) Successful!\n")),(0,o.kt)("h2",{id:"interacting-with-the-dao"},"Interacting with the DAO"),(0,o.kt)("p",null,"Open your browser and access ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:3000"},"http://localhost:3000"),"."),(0,o.kt)("p",null,"You should see the Tribute UI onboarding page:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Join Tribute DAO",src:n(8830).Z})),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Connect to TributeUI using the same MetaMask account you used to deploy the DAO to Rinkeby, since that address is considered the owner of the DAO you will have access to all features, and will hold 1 unit token."))),(0,o.kt)("p",null,"Connected:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Connected",src:n(3970).Z})),(0,o.kt)("p",null,"Access the ",(0,o.kt)("em",{parentName:"p"},"Governance")," page and hit ",(0,o.kt)("em",{parentName:"p"},"new proposal")," to create a proposal for vote, e.g:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Governance",src:n(204).Z})),(0,o.kt)("p",null,"\ud83d\udc4f Yeah, it was a lengthy tutorial, Well Done!!!"),(0,o.kt)("p",null,"\ud83c\udf89 You have launched your DAO using Tribute DAO framework, and now you can interact with it using the Tribute UI dApp!"),(0,o.kt)("h2",{id:"problems"},"Problems?"),(0,o.kt)("p",null,"Ask for help on ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://discord.gg/xXMA2DYqNf"},"Discord"))," or on ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://github.com/openlawteam/tribute-contracts/discussions/new"},"GitHub Discussions")),"."))}d.isMDXComponent=!0},3970:function(e,t,n){t.Z=n.p+"assets/images/connected-90fa856b19131eeb906d00269a91139e.png"},204:function(e,t,n){t.Z=n.p+"assets/images/governance-ac6e1f569835edd2a12a5148ba2b00cd.png"},8830:function(e,t,n){t.Z=n.p+"assets/images/join-0c5b763343ac4433eedb6d2855d7bb35.png"}}]);